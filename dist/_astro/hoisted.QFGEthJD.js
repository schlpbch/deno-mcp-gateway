import"./Header.astro_astro_type_script_index_0_lang.CuYPaftd.js";let s=[];async function u(){const e=document.getElementById("resource-select");try{const r=await fetch("/mcp/resources/list"),c=await r.json();if(!r.ok){e.innerHTML='<option value="">Failed to load resources</option>';return}if(s=c.resources||[],e.innerHTML='<option value="">Select a resource...</option>',s.forEach((t,n)=>{const o=document.createElement("option");o.value=n.toString(),o.textContent=`${t.name} (${t.uri})`,e.appendChild(o)}),s.length>0){const t=document.createElement("option");t.disabled=!0,t.textContent=`${s.length} resources available`}}catch(r){console.error("Failed to fetch resources:",r),e.innerHTML='<option value="">Error loading resources</option>'}}function i(e){document.getElementById("resource-name").textContent=e.name,document.getElementById("resource-description").textContent=e.description||"-",document.getElementById("read-resource-btn").disabled=!1,document.getElementById("resource-result").textContent="-",document.getElementById("resource-result-status").textContent="Ready",document.getElementById("copy-result-btn").style.display="none"}async function m(){const e=document.getElementById("resource-select"),r=parseInt(e.value);if(isNaN(r))return;const c=s[r];if(!c)return;const t=document.getElementById("resource-result"),n=document.getElementById("resource-result-status");n.textContent="Loading...";try{const o=await fetch("/mcp/resources/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uri:c.uri})}),d=await o.json();if(o.ok){let a=d.contents||d.content||d;t.textContent=typeof a=="string"?a:JSON.stringify(a,null,2),n.textContent="✓ Success",n.className="text-accent text-sm font-medium",document.getElementById("copy-result-btn").style.display="block"}else t.textContent=`Error: ${d.error||"Unknown error"}`,n.textContent="✗ Failed",n.className="text-red-600 dark:text-red-400 text-sm font-medium"}catch(o){t.textContent=`Error: ${o}`,n.textContent="✗ Error",n.className="text-red-600 dark:text-red-400 text-sm font-medium"}}u();const l=document.getElementById("resource-select");l?.addEventListener("change",()=>{const e=parseInt(l.value);!isNaN(e)&&s[e]&&i(s[e])});document.getElementById("read-resource-btn")?.addEventListener("click",m);document.getElementById("copy-result-btn")?.addEventListener("click",()=>{const e=document.getElementById("resource-result")?.textContent||"";navigator.clipboard.writeText(e)});
